# Домашнее задание к семинару 04 (HW04)

Тема: HTTP-сервис качества датасетов поверх проекта `eda-cli` (FastAPI + REST API).

HW04 относится к семинару **S04** и выполняется в личном репозитории студента, созданном на основе шаблона `aie-student-template`, в папке `homeworks/HW04/`.  
Проект HW04 опирается на результаты HW03 и переиспользует доработанный `eda-cli` (эвристики качества, параметры отчёта и т.п.).

---

## 2. Задание

Основное задание: HTTP-сервис поверх `eda-cli`

Основная часть HW04 — **инженерная**: вы добавляете HTTP-слой на FastAPI поверх уже существующего `eda-cli`.


**Доработать** этот HTTP-сервис: добавить собственный эндпоинт, завязанный на доработки HW03. Реализовывать с нуля `/health`, `/quality` и `/quality-from-csv` в рамках HW04 не требуется.

---

#### 2.3.2. Собственный эндпоинт, завязанный на HW03 (обязательно)

Каждый студент должен реализовать **минимум один новый HTTP-эндпоинт**, который:

- **не дублирует** уже реализованные в семинарном `api.py` эндпоинты `/health`, `/quality` или `/quality-from-csv`;
- **использует доработки из HW03** (новые эвристики качества, JSON-сводки, дополнительные команды CLI или визуализации).

Вариант по умолчанию (подходит всем):

##### Вариант A (рекомендуется): `POST /quality-flags-from-csv`

1. Эндпоинт:

   ```http
   POST /quality-flags-from-csv
   ```

   - принимает CSV-файл (аналогично `/quality-from-csv`);
   - возвращает **полный набор флагов качества**, включая те, что вы добавили в HW03.

2. Требования:

   - прочитать CSV-файл в DataFrame;
   - вызвать `summarize_dataset`, `missing_table`, `compute_quality_flags`;
   - вернуть JSON вида:

     ```json
     {
       "flags": {
         "too_few_rows": false,
         "too_many_missing": true,
         "has_constant_columns": false,
         "has_high_cardinality_categoricals": true,
         "has_suspicious_id_duplicates": false,
         "has_many_zero_values": true
       }
     }
     ```

     состав словаря зависит от того, какие эвристики вы реализовали в HW03.

3. Важно, чтобы в ответе были **видны ваши новые флаги** из HW03 (например, `has_constant_columns`, `has_high_cardinality_categoricals` и т.п.).
